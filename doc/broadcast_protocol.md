## 组播发现协议
### 协议选择：
使用UDP组播协议,组播地址为 239.255.255.250，端口 31900。

### 协议对象
- 服务端: (搜索客户端程序)
- 设备端: 各类型的网络设备


### 消息流程
####  搜索设备流程
服务端发送设备发现请求消息到组播地址。
所有监听该组播地址的设备都会收到请求消息。
设备收到请求后，返回自己的设备信息到指定的源IP地址和端口号

#### 控制设备流程
发送设备控制命令到组播地址，指定需要控制的设备mac和类型
所有符合条件的设备收到命令后，执行相应的控制操作，并将结果返回给命令发起者

### 超时和重试机制
TODO

### 安全性
消息加密和认证
TODO


### 消息格式定义：
定义设备发现消息和设备控制消息的格式
使用JSON或字节码方式
设备控制消息可以指定控制的命令、参数等。
设备注册和响应：

###### 设备发现请求消息：
服务端:

```json
{
  "type": "discover"
}
```

设备发现响应消息：

json
复制代码
{
  "action": "discover_response",
  "device_id": "device123",
  "device_name": "Smart Device",
  "device_type": "light",
  "ip_address": "192.168.1.100",
  "port": 8080
}
设备控制消息：

json
复制代码
{
  "action": "control",
  "device_id": "device123",
  "command": "turn_on",
  "parameters": {
    "brightness": 80
  }
}
通过这样的设计，可以实现简单而有效的设备搜索和控制功能。